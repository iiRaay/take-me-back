{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/ray/Documents/projects/timeline-app/app/api/photos/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\nimport { readdir, stat } from \"fs/promises\";\nimport { join } from \"path\";\nimport { existsSync } from \"fs\";\n\nconst PHOTOS_FOLDER = join(process.cwd(), \"public\", \"photos\");\nconst IMAGE_EXTENSIONS = [\n  \".jpg\",\n  \".jpeg\",\n  \".png\",\n  \".gif\",\n  \".webp\",\n  \".heic\",\n  \".heif\",\n];\n\nexport async function GET() {\n  try {\n    if (!existsSync(PHOTOS_FOLDER)) return NextResponse.json({ photos: [] });\n\n    const files = await readdir(PHOTOS_FOLDER);\n    const photos: { filename: string; path: string; url: string }[] = [];\n\n    for (const file of files) {\n      const ext = file.toLowerCase().substring(file.lastIndexOf(\".\"));\n      if (!IMAGE_EXTENSIONS.includes(ext)) continue;\n\n      const filePath = join(PHOTOS_FOLDER, file);\n      const stats = await stat(filePath);\n      if (!stats.isFile()) continue;\n\n      photos.push({ filename: file, path: filePath, url: `/photos/${file}` });\n    }\n\n    return NextResponse.json({ photos });\n  } catch (error) {\n    console.error(\"Error reading photos:\", error);\n    return NextResponse.json(\n      { error: \"Failed to read photos folder\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,MAAM,gBAAgB,IAAA,yGAAI,EAAC,QAAQ,GAAG,IAAI,UAAU;AACpD,MAAM,mBAAmB;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,eAAe;IACpB,IAAI;QACF,IAAI,CAAC,IAAA,2GAAU,EAAC,gBAAgB,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,QAAQ,EAAE;QAAC;QAEtE,MAAM,QAAQ,MAAM,IAAA,gIAAO,EAAC;QAC5B,MAAM,SAA4D,EAAE;QAEpE,KAAK,MAAM,QAAQ,MAAO;YACxB,MAAM,MAAM,KAAK,WAAW,GAAG,SAAS,CAAC,KAAK,WAAW,CAAC;YAC1D,IAAI,CAAC,iBAAiB,QAAQ,CAAC,MAAM;YAErC,MAAM,WAAW,IAAA,yGAAI,EAAC,eAAe;YACrC,MAAM,QAAQ,MAAM,IAAA,6HAAI,EAAC;YACzB,IAAI,CAAC,MAAM,MAAM,IAAI;YAErB,OAAO,IAAI,CAAC;gBAAE,UAAU;gBAAM,MAAM;gBAAU,KAAK,CAAC,QAAQ,EAAE,MAAM;YAAC;QACvE;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAO;IACpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA+B,GACxC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}